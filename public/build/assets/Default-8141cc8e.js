import{p as H,g as z,c as k,t as L,d as i,x as P,y as Ce,z as A,A as I,B as re,C as Te,D as Me,m as ue,E as Pe,a as ce,F as Be,u as ve,G as Y,H as O,J as Ee,K as Le,e as R,T as Ie,L as De,M as de,N as Ne,O as Re,P as He,f as ze,r as Oe,i as K,w as p,o as Q,q as ee,j as te,Q as Ye,S as Ae,k as We}from"./app-96326f91.js";import{s as Xe}from"./sha256-eeca3972.js";import{_ as Fe}from"./_plugin-vue_export-helper-c27b6911.js";import{u as Ue,b as me,f as $e,a as je,V as ae}from"./index-f020c943.js";import{m as W,h as fe,v as X,w as qe,d as Ze,g as ge,x as Ge,y as ne,l as Je,p as he,z as Ke,e as Qe,f as et,i as tt,n as at,o as nt,u as ot,r as lt,s as it}from"./VCardText-607b6d49.js";import{m as ye,u as we,a as st,V as rt}from"./VLayout-1ff218be.js";import{u as be,a as ke,m as ut,V as oe,b as le,c as N,d as ct}from"./VOverlay-16edc02a.js";/* empty css            */const vt=H({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...W(),...ye()},"VLayoutItem"),dt=z()({name:"VLayoutItem",props:vt(),setup(e,l){let{slots:n}=l;const{layoutItemStyles:o}=we({id:e.name,order:k(()=>parseInt(e.order,10)),position:L(e,"position"),elementSize:L(e,"size"),layoutSize:L(e,"size"),active:L(e,"modelValue"),absolute:L(e,"absolute")});return()=>{var t;return i("div",{class:["v-layout-item",e.class],style:[o.value,e.style]},[(t=n.default)==null?void 0:t.call(n)])}}});const mt=H({scrollable:Boolean,...W(),...fe({tag:"main"})},"VMain"),ft=z()({name:"VMain",props:mt(),setup(e,l){let{slots:n}=l;const{mainStyles:o}=st(),{ssrBootStyles:t}=be();return X(()=>i(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[o.value,t.value,e.style]},{default:()=>{var a,v;return[e.scrollable?i("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(v=n.default)==null?void 0:v.call(n)]}})),{}}});function gt(e){let{rootEl:l,isSticky:n,layoutItemStyles:o}=e;const t=P(!1),a=P(0),v=k(()=>{const h=typeof t.value=="boolean"?"top":t.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[h]:Ce(a.value)}:{top:o.value.top}]});A(()=>{I(n,h=>{h?window.addEventListener("scroll",b,{passive:!0}):window.removeEventListener("scroll",b)},{immediate:!0})}),re(()=>{window.removeEventListener("scroll",b)});let f=0;function b(){const h=f>window.scrollY?"up":"down",c=l.value.getBoundingClientRect(),g=parseFloat(o.value.top??0),d=window.scrollY-Math.max(0,a.value-g),y=c.height+Math.max(a.value,g)-window.scrollY-window.innerHeight,S=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-g?(t.value="top",a.value=g):h==="up"&&t.value==="bottom"||h==="down"&&t.value==="top"?(a.value=window.scrollY+c.top-S,t.value=!0):h==="down"&&y<=0?(a.value=0,t.value="bottom"):h==="up"&&d<=0&&(S?t.value!=="top"&&(a.value=-d+S+g,t.value="top"):(a.value=c.top+d,t.value="top")),f=window.scrollY}return{isStuck:t,stickyStyles:v}}const ht=100,yt=20;function ie(e){const l=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*l}function se(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let l=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const o=ie(l),t=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);l+=(t-o)*Math.abs(t),n===e.length-1&&(l*=.5)}return ie(l)*1e3}function wt(){const e={};function l(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new Te(yt))).push([t.timeStamp,a])})}function n(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function o(t){var h;const a=(h=e[t])==null?void 0:h.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const v=a[0],f=[],b=[];for(const c of a){if(v[0]-c[0]>ht)break;f.push({t:c[0],d:c[1].clientX}),b.push({t:c[0],d:c[1].clientY})}return{x:se(f),y:se(b),get direction(){const{x:c,y:g}=this,[d,y]=[Math.abs(c),Math.abs(g)];return d>y&&c>=0?"right":d>y&&c<=0?"left":y>d&&g>=0?"down":y>d&&g<=0?"up":bt()}}}return{addMovement:l,endTouch:n,getVelocity:o}}function bt(){throw new Error}function kt(e){let{isActive:l,isTemporary:n,width:o,touchless:t,position:a}=e;A(()=>{window.addEventListener("touchstart",_,{passive:!0}),window.addEventListener("touchmove",B,{passive:!1}),window.addEventListener("touchend",x,{passive:!0})}),re(()=>{window.removeEventListener("touchstart",_),window.removeEventListener("touchmove",B),window.removeEventListener("touchend",x)});const v=k(()=>["left","right"].includes(a.value)),{addMovement:f,endTouch:b,getVelocity:h}=wt();let c=!1;const g=P(!1),d=P(0),y=P(0);let S;function w(s,r){return(a.value==="left"?s:a.value==="right"?document.documentElement.clientWidth-s:a.value==="top"?s:a.value==="bottom"?document.documentElement.clientHeight-s:D())-(r?o.value:0)}function T(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const u=a.value==="left"?(s-y.value)/o.value:a.value==="right"?(document.documentElement.clientWidth-s-y.value)/o.value:a.value==="top"?(s-y.value)/o.value:a.value==="bottom"?(document.documentElement.clientHeight-s-y.value)/o.value:D();return r?Math.max(0,Math.min(1,u)):u}function _(s){if(t.value)return;const r=s.changedTouches[0].clientX,u=s.changedTouches[0].clientY,m=25,C=a.value==="left"?r<m:a.value==="right"?r>document.documentElement.clientWidth-m:a.value==="top"?u<m:a.value==="bottom"?u>document.documentElement.clientHeight-m:D(),M=l.value&&(a.value==="left"?r<o.value:a.value==="right"?r>document.documentElement.clientWidth-o.value:a.value==="top"?u<o.value:a.value==="bottom"?u>document.documentElement.clientHeight-o.value:D());(C||M||l.value&&n.value)&&(c=!0,S=[r,u],y.value=w(v.value?r:u,l.value),d.value=T(v.value?r:u),b(s),f(s))}function B(s){const r=s.changedTouches[0].clientX,u=s.changedTouches[0].clientY;if(c){if(!s.cancelable){c=!1;return}const C=Math.abs(r-S[0]),M=Math.abs(u-S[1]);(v.value?C>M&&C>3:M>C&&M>3)?(g.value=!0,c=!1):(v.value?M:C)>3&&(c=!1)}if(!g.value)return;s.preventDefault(),f(s);const m=T(v.value?r:u,!1);d.value=Math.max(0,Math.min(1,m)),m>1?y.value=w(v.value?r:u,!0):m<0&&(y.value=w(v.value?r:u,!1))}function x(s){if(c=!1,!g.value)return;f(s),g.value=!1;const r=h(s.changedTouches[0].identifier),u=Math.abs(r.x),m=Math.abs(r.y);(v.value?u>m&&u>400:m>u&&m>3)?l.value=r.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||D()):l.value=d.value>.5}const E=k(()=>g.value?{transform:a.value==="left"?`translateX(calc(-100% + ${d.value*o.value}px))`:a.value==="right"?`translateX(calc(100% - ${d.value*o.value}px))`:a.value==="top"?`translateY(calc(-100% + ${d.value*o.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${d.value*o.value}px))`:D(),transition:"none"}:void 0);return{isDragging:g,dragProgress:d,dragStyles:E}}function D(){throw new Error}const St=["start","end","left","right","top","bottom"],Vt=H({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>St.includes(e)},sticky:Boolean,...qe(),...W(),...Me(),...Ze(),...ye(),...ge(),...fe({tag:"nav"}),...ue()},"VNavigationDrawer"),pt=z()({name:"VNavigationDrawer",props:Vt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,l){let{attrs:n,emit:o,slots:t}=l;const{isRtl:a}=Pe(),{themeClasses:v}=ce(e),{borderClasses:f}=Ge(e),{backgroundColorClasses:b,backgroundColorStyles:h}=ne(L(e,"color")),{elevationClasses:c}=Je(e),{displayClasses:g,mobile:d}=Be(e),{roundedClasses:y}=he(e),S=Ue(),w=ve(e,"modelValue",null,V=>!!V),{ssrBootStyles:T}=be(),{scopeId:_}=ke(),B=Y(),x=P(!1),E=k(()=>e.rail&&e.expandOnHover&&x.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),s=k(()=>Ke(e.location,a.value)),r=k(()=>!e.permanent&&(d.value||e.temporary)),u=k(()=>e.sticky&&!r.value&&s.value!=="bottom");O(()=>e.expandOnHover&&e.rail!=null,()=>{I(x,V=>o("update:rail",!V))}),O(()=>!e.disableResizeWatcher,()=>{I(r,V=>!e.permanent&&de(()=>w.value=!V))}),O(()=>!e.disableRouteWatcher&&!!S,()=>{I(S.currentRoute,()=>r.value&&(w.value=!1))}),I(()=>e.permanent,V=>{V&&(w.value=!0)}),Ee(()=>{e.modelValue!=null||r.value||(w.value=e.permanent||!d.value)});const{isDragging:m,dragProgress:C,dragStyles:M}=kt({isActive:w,isTemporary:r,width:E,touchless:L(e,"touchless"),position:s}),F=k(()=>{const V=r.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):E.value;return m.value?V*C.value:V}),{layoutItemStyles:U,layoutItemScrimStyles:Se}=we({id:e.name,order:k(()=>parseInt(e.order,10)),position:s,layoutSize:F,elementSize:E,active:k(()=>w.value||m.value),disableTransitions:k(()=>m.value),absolute:k(()=>e.absolute||u.value&&typeof $.value!="string")}),{isStuck:$,stickyStyles:Ve}=gt({rootEl:B,isSticky:u,layoutItemStyles:U}),j=ne(k(()=>typeof e.scrim=="string"?e.scrim:null)),pe=k(()=>({...m.value?{opacity:C.value*.2,transition:"none"}:void 0,...Se.value}));Le({VList:{bgColor:"transparent"}});function _e(){x.value=!0}function xe(){x.value=!1}return X(()=>{const V=t.image||e.image;return i(De,null,[i(e.tag,R({ref:B,onMouseenter:_e,onMouseleave:xe,class:["v-navigation-drawer",`v-navigation-drawer--${s.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":r.value,"v-navigation-drawer--active":w.value,"v-navigation-drawer--sticky":u.value},v.value,b.value,f.value,g.value,c.value,y.value,e.class],style:[h.value,U.value,M.value,T.value,Ve.value,e.style]},_,n),{default:()=>{var q,Z,G,J;return[V&&i("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?(q=t.image)==null?void 0:q.call(t,{image:e.image}):i("img",{src:e.image,alt:""},null)]),t.prepend&&i("div",{class:"v-navigation-drawer__prepend"},[(Z=t.prepend)==null?void 0:Z.call(t)]),i("div",{class:"v-navigation-drawer__content"},[(G=t.default)==null?void 0:G.call(t)]),t.append&&i("div",{class:"v-navigation-drawer__append"},[(J=t.append)==null?void 0:J.call(t)])]}}),i(Ie,{name:"fade-transition"},{default:()=>[r.value&&(m.value||w.value)&&!!e.scrim&&i("div",R({class:["v-navigation-drawer__scrim",j.backgroundColorClasses.value],style:[pe.value,j.backgroundColorStyles.value],onClick:()=>w.value=!1},_),null)]})])}),{isStuck:$}}});function _t(e){const l=P(e);let n=-1;function o(){clearInterval(n)}function t(){o(),de(()=>l.value=e)}function a(v){const f=v?getComputedStyle(v):{transitionDuration:.2},b=parseFloat(f.transitionDuration)*1e3||200;if(o(),l.value<=0)return;const h=performance.now();n=window.setInterval(()=>{const c=performance.now()-h+b;l.value=Math.max(e-c,0),l.value<=0&&o()},b)}return He(o),{clear:o,time:l,start:a,reset:t}}const xt=H({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Qe({location:"bottom"}),...et(),...ge(),...tt(),...ue(),...Ne(ut({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Ct=z()({name:"VSnackbar",props:xt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:n}=l;const o=ve(e,"modelValue"),{locationStyles:t}=at(e),{positionClasses:a}=nt(e),{scopeId:v}=ke(),{themeClasses:f}=ce(e),{colorClasses:b,colorStyles:h,variantClasses:c}=ot(e),{roundedClasses:g}=he(e),d=_t(Number(e.timeout)),y=Y(),S=Y(),w=P(!1);I(o,_),I(()=>e.timeout,_),A(()=>{o.value&&_()});let T=-1;function _(){d.reset(),window.clearTimeout(T);const s=Number(e.timeout);if(!o.value||s===-1)return;const r=Re(S.value);d.start(r),T=window.setTimeout(()=>{o.value=!1},s)}function B(){d.reset(),window.clearTimeout(T)}function x(){w.value=!0,B()}function E(){w.value=!1,_()}return X(()=>{const s=oe.filterProps(e),r=!!(n.default||n.text||e.text);return i(oe,R({ref:y,class:["v-snackbar",{"v-snackbar--active":o.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},a.value,e.class],style:e.style},s,{modelValue:o.value,"onUpdate:modelValue":u=>o.value=u,contentProps:R({class:["v-snackbar__wrapper",f.value,b.value,g.value,c.value],style:[t.value,h.value],onPointerenter:x,onPointerleave:E},s.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},v),{default:()=>{var u,m;return[lt(!1,"v-snackbar"),e.timer&&i("div",{key:"timer",class:"v-snackbar__timer"},[i(me,{ref:S,active:!w.value,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":d.time.value},null)]),r&&i("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((u=n.text)==null?void 0:u.call(n))??e.text,(m=n.default)==null?void 0:m.call(n)]),n.actions&&i(it,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[i("div",{class:"v-snackbar__actions"},[n.actions()])]})]},activator:n.activator})}),$e({},y)}}),Tt={name:"default-layout",data(){return{drawer:!1,snackbar:!1,message:{},user:this.$store.state.auth.user}},methods:{...ze({signOut:"auth/logout"}),avatar(){return this.user.avatar?this.user.avatar:"https://gravatar.com/avatar/"+Xe(this.user.email).toString()},async logout(){await axios.post("/logout").then(({data:e})=>{this.signOut(),this.$router.push({name:"login"})})},showAlert(e){this.snackbar=!0,this.message=e}}},Mt={class:"pa-2"},Pt={class:"ma-4"};function Bt(e,l,n,o,t,a){const v=Oe("router-view");return Q(),K(je,null,{default:p(()=>[i(rt,null,{default:p(()=>[i(pt,{modelValue:t.drawer,"onUpdate:modelValue":l[0]||(l[0]=f=>t.drawer=f),temporary:""},{append:p(()=>[ee("div",Mt,[i(ae,{block:"",onClick:a.logout},{default:p(()=>[te("Logout")]),_:1},8,["onClick"])])]),default:p(()=>[i(le,null,{default:p(()=>[i(N,{"prepend-avatar":a.avatar(),title:t.user.name,subtitle:t.user.email},null,8,["prepend-avatar","title","subtitle"])]),_:1}),i(ct),i(le,{density:"compact",nav:""},{default:p(()=>[i(N,{to:{name:"dashboard"},"prepend-icon":"mdi-view-dashboard",title:"Dashboard",value:"dashboard"}),i(N,{to:{name:"resources"},"prepend-icon":"mdi-account-group-outline",title:"Resources",value:"resource"}),i(N,{to:{name:"projects"},"prepend-icon":"mdi-folder-multiple",title:"Projects",value:"project"}),i(N,{to:{name:"holidays"},"prepend-icon":"mdi-calendar-edit",title:"Holidays",value:"holiday"})]),_:1})]),_:1},8,["modelValue"]),i(dt,{"model-value":"",position:"bottom",class:"text-start",size:"88"},{default:p(()=>[ee("div",Pt,[i(ae,{icon:"mdi-menu",size:"large",color:"primary",elevation:"8",onClick:l[1]||(l[1]=Ye(f=>t.drawer=!t.drawer,["stop"]))})])]),_:1}),i(ft,null,{default:p(()=>[(Q(),K(Ae,null,{fallback:p(()=>[i(me,{indeterminate:"",color:"cyan"})]),default:p(()=>[i(v,{onShowAlert:a.showAlert},null,8,["onShowAlert"])]),_:1})),i(Ct,{modelValue:t.snackbar,"onUpdate:modelValue":l[2]||(l[2]=f=>t.snackbar=f),color:t.message.type},{default:p(()=>[te(We(t.message.text),1)]),_:1},8,["modelValue","color"])]),_:1})]),_:1})]),_:1})}const Ot=Fe(Tt,[["render",Bt]]);export{Ot as default};
