import{p as q,I as N,m as U,g as O,u as M,c as m,a as W,t as G,b as H,d as t,e as J,f as K,r as Q,h as X,w as l,o as h,i as Y,j as r,k as w,l as Z,n as $,q as f}from"./app-96326f91.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";import{V as te,a as V}from"./VTextField-ca22b321.js";import{V as ae}from"./VLayout-1ff218be.js";import{V as _,a as v}from"./index-f020c943.js";import{c as se,m as le,a as oe,b as ne,d as ie,e as re,f as ce,g as de,h as ue,i as me,u as ve,j as fe,k as pe,l as ye,n as ge,o as be,p as he,q as we,r as Ve,V as ke,s as k,t as x}from"./VCardText-607b6d49.js";import{V as xe}from"./VForm-b2efb5c1.js";/* empty css            *//* empty css              */const _e=se("v-alert-title"),Pe=["success","info","warning","error"],Ce=q({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:N,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Pe.includes(e)},...le(),...oe(),...ne(),...ie(),...re(),...ce(),...de(),...ue(),...U(),...me({variant:"flat"})},"VAlert"),Se=O()({name:"VAlert",props:Ce(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{emit:p,slots:a}=o;const s=M(e,"modelValue"),i=m(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),d=m(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:n}=W(e),{colorClasses:P,colorStyles:C,variantClasses:S}=ve(d),{densityClasses:I}=fe(e),{dimensionStyles:B}=pe(e),{elevationClasses:A}=ye(e),{locationStyles:E}=ge(e),{positionClasses:T}=be(e),{roundedClasses:L}=he(e),{textColorClasses:R,textColorStyles:D}=we(G(e,"borderColor")),{t:F}=H(),y=m(()=>({"aria-label":F(e.closeLabel),onClick(u){s.value=!1,p("click:close",u)}}));return()=>{const u=!!(a.prepend||i.value),z=!!(a.title||e.title),j=!!(a.close||e.closable);return s.value&&t(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},n.value,P.value,I.value,A.value,T.value,L.value,S.value,e.class],style:[C.value,B.value,E.value,e.style],role:"alert"},{default:()=>{var g,b;return[Ve(!1,"v-alert"),e.border&&t("div",{key:"border",class:["v-alert__border",R.value],style:D.value},null),u&&t("div",{key:"prepend",class:"v-alert__prepend"},[a.prepend?t(k,{key:"prepend-defaults",disabled:!i.value,defaults:{VIcon:{density:e.density,icon:i.value,size:e.prominent?44:28}}},a.prepend):t(ke,{key:"prepend-icon",density:e.density,icon:i.value,size:e.prominent?44:28},null)]),t("div",{class:"v-alert__content"},[z&&t(_e,{key:"title"},{default:()=>{var c;return[((c=a.title)==null?void 0:c.call(a))??e.title]}}),((g=a.text)==null?void 0:g.call(a))??e.text,(b=a.default)==null?void 0:b.call(a)]),a.append&&t("div",{key:"append",class:"v-alert__append"},[a.append()]),j&&t("div",{key:"close",class:"v-alert__close"},[a.close?t(k,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var c;return[(c=a.close)==null?void 0:c.call(a,{props:y.value})]}}):t(_,J({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},y.value),null)])]}})}}}),Ie={name:"login",data(){return{auth:{email:"",password:""},message:"",validationErrors:{},valid:!1,processing:!1,showPassword:!1,passwordRules:[e=>!!e||"Password is required",e=>e.length>=8||"Password must be at least 8 characters"],emailRules:[e=>!!e||"E-mail is required",e=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"]}},methods:{...K({signIn:"auth/login"}),async login(){this.$refs.form.validate(),this.valid&&(this.processing=!0,await axios.get("/sanctum/csrf-cookie"),await axios.post("/login",this.auth).then(({data:e})=>{this.signIn()}).catch(({response:e})=>{e.status===422?(this.message=e.data.message,this.validationErrors=e.data.errors):(this.validationErrors={},alert(e.data.message))}).finally(()=>{this.processing=!1}))}}},Be={class:"login-form"},Ae=f("div",{class:"text-subtitle-1 text-medium-emphasis"},"Account",-1),Ee=f("div",{class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"},[r(" Password "),f("a",{class:"text-caption text-decoration-none text-blue",href:"#",rel:"noopener noreferrer",tabindex:"-1"},"Forgot login password?")],-1);function Te(e,o,p,a,s,i){const d=Q("router-link");return h(),X("main",Be,[t(te,{class:"fill-height"},{default:l(()=>[t(ae,{class:"d-flex align-center justify-center"},{default:l(()=>[t(v,{class:"mx-auto pa-12 pb-8",elevation:"8","max-width":"448",rounded:"lg"},{default:l(()=>[s.message!==""?(h(),Y(v,{key:0,class:"mb-12",color:"surface-variant",variant:"tonal"},{default:l(()=>[t(Se,{color:"error"},{default:l(()=>[r(w(s.message),1)]),_:1})]),_:1})):Z("",!0),t(xe,{modelValue:s.valid,"onUpdate:modelValue":o[3]||(o[3]=n=>s.valid=n),ref:"form"},{default:l(()=>[Ae,t(V,{density:"compact",modelValue:s.auth.email,"onUpdate:modelValue":o[0]||(o[0]=n=>s.auth.email=n),type:"email",rules:s.emailRules,required:"",placeholder:"Email address","prepend-inner-icon":"mdi-email-outline",variant:"outlined",clearable:""},null,8,["modelValue","rules"]),Ee,t(V,{"append-inner-icon":s.showPassword?"mdi-eye-off":"mdi-eye",modelValue:s.auth.password,"onUpdate:modelValue":o[1]||(o[1]=n=>s.auth.password=n),rules:s.passwordRules,type:s.showPassword?"text":"password",density:"compact",placeholder:"Enter your password","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":o[2]||(o[2]=n=>s.showPassword=!s.showPassword),clearable:""},null,8,["append-inner-icon","modelValue","rules","type"]),t(v,{class:"mb-12",color:"surface-variant",variant:"tonal"},{default:l(()=>[t(x,{class:"text-medium-emphasis text-caption"},{default:l(()=>[r(' Warning: After 3 consecutive failed login attempts, you account will be temporarily locked for three hours. If you must login now, you can also click "Forgot login password?" below to reset the login password. ')]),_:1})]),_:1}),t(_,{type:"submit",block:"",class:$(["mb-8",{disabled:!s.valid}]),color:"blue",size:"large",variant:"tonal",onClick:i.login,disabled:s.processing},{default:l(()=>[r(w(s.processing?"Please wait":"Log In"),1)]),_:1},8,["onClick","disabled","class"])]),_:1},8,["modelValue"]),t(x,{class:"text-center"},{default:l(()=>[r(" Don't have an account? "),t(d,{class:"text-blue text-decoration-none",to:{name:"register"}},{default:l(()=>[r("Register Now!")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const Oe=ee(Ie,[["render",Te]]);export{Oe as default};
